## OS06_02

### Process's modules addresses.

1. set breakpoint.
2. start debug mode.
3. open module window. `Debug -> Windows -> Modules` `(Ctr + Alt + U)`.
---
### Set fixed address for process modules.

1. open **project** properties. 
2. go to `Linker -> Advanced`.
3. set `Randomized Base Address` to NO.
4. set `Fixed Base Address` to YES.
5. (OPTIONAL) set `Base Address` to address you want.

## OS06_03

### Find element in memory using calculated offset.

1. set breakpoint after index initialization and before calling `VirtualFree` function.
2. start debug (`F5`).
3. open `Memory 1` window. `Debug -> Windows -> Memory -> Memory 1` (`Alt + 6`).
4. enter `virtArray + index` to address input.

### ANSWERS

#### Поясните понятие «ВИРТУАЛЬНАЯ ПАМЯТЬ».

Метод управления памятью,
позволяющий выделить процессам адресные
пространства, суммарный объем которых превышает
физический объем оперативной памяти компьютера.

---
#### Поясните понятие «СВОПИНГ».

Механизм OS обмена (вытеснения и
загрузки) содержимым блоков оперативной физической
памяти компьютера с устройством хранения данных с
целью расширения адресуемого объема оперативной памяти
компьютера. **МЕХАНИЗМ ЯВЛЯЕТСЯ АППАРАТНО-ПРОГРАММНЫМ.**

---
#### Поясните понятие «СТРАНИЧНАЯ ПАМЯТЬ».

Реализации виртуальной памяти,
при которой физическая память и адресное пространство
разбивается на блоки (страницы), а также осуществляется
страничный свопинг

---
#### Поясните понятие MMU.

MMU (Memory Management Unit) – диспетчер памяти, 
программируемое аппаратное устройство, входящее в
состав процессора и предназначенное для трансляции
виртуальных адресов оперативной памяти в реальные.

---
#### Поясните понятие TLB.


### Увага

TLB (Translation Lookaside Buffer) – буфер быстрого
преобразования адреса – ассоциативная память
(параллельный поиск)

---
#### Какая информация содержится в строке таблицы страниц



---
#### Поясните принцип применения хэш-таблиц.
#### Поясните применение «инвертированной таблицы физических» страничной памяти.
#### Поясните понятие «рабочий набор страниц».

набор страниц процесса, минимизирующий замещений страниц;
если известен рабочий набор страниц можно осуществить их опережающую подкачку;
основан на статистическом поведении процесса.

---
#### Поясните принцип работы алгоритма LRU.

- У каждого элемента есть счетчик использований.
- Каждый раз когда этот элемент используется счетчик увеличивается.
- При необходимости замещения, замещается элемент с наименьшим значением счетчика. 

---
#### Windows: поясните назначение сервиса SysMain.

SysMain – сервис предварительной подкачки.

---
#### Windows: поясните назначение файла hiberfil.sys.

Файл для сохранения памяти в режиме гибернации.

---
#### Windows: поясните назначение файла pagefile.sys.

Файл подкачки.

---
#### Windows: поясните назначение файла swapfile.sys.

Файл подкачки отдельных (предварительно скаченных из магазина приложений) для быстрого
применения

---
#### Windows: перечислите области адресного пространства (от младших к старшим адресам) и поясните их назначения.



---
#### Windows: какой стандартный начальный размер области heap?

1MB

---
#### Windows: каким образом можно изменить начальный размер области памяти heap приложения?

С помощью параметра компоновщика `/HEAP:"<size>"`.

---
#### Windows: какой стандартный размер области памяти stack?

1MB

---
#### Windows: каким образом можно изменить размер области памяти stack приложения?

С помощью параметра компоновщика `/STACK:"<size>"`.

---
#### Windows: поясните назначение функции Windows API: GlobalMemoryStatus.
#### Windows: поясните назначение функции Windows API: VirtualQuery; перечислите значения атрибутов Protect, State и Type.
#### Windows: что такое «рабочее множество»? поясните принцип управления рабочим множеством с помощью OS API.
#### Windows: что означает «страница заблокирована»? с помощью каких функций OS API можно установить блокировку страниц и снять блокировку? Какое максимальное количество страниц можно заблокировать?

- установить блокировку страниц.

```c++
VirtualLock(, <)
```

- снять блокировку.

```c++
VirtualUnlock(, <)
```

- Максимально 30 заблокированных страниц

---
#### Windows: что такое «heap»? Что такое «heap процесса»? Что такое «пользовательская heap»? Поясните принцип устройства heap.
#### Linux: перечислите области адресного пространства (от младших к старшим адресам) и поясните их назначения.
#### Linux: в какой части адресного пространства выделяется памяти с помощью функций malloc, calloc?

heap

